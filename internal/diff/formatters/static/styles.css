/* opnDossier Diff Report - Self-contained CSS */
:root {
  --bg: #1a1b26;
  --bg-surface: #24283b;
  --bg-hover: #292e42;
  --text: #c0caf5;
  --text-muted: #565f89;
  --border: #3b4261;
  --added: #9ece6a;
  --added-bg: rgba(158, 206, 106, 0.1);
  --removed: #f7768e;
  --removed-bg: rgba(247, 118, 142, 0.1);
  --modified: #e0af68;
  --modified-bg: rgba(224, 175, 104, 0.1);
  --reordered: #7aa2f7;
  --reordered-bg: rgba(122, 162, 247, 0.1);
  --security-high: #f7768e;
  --security-medium: #e0af68;
  --security-low: #9ece6a;
  --accent: #7aa2f7;
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f5f5f5;
    --bg-surface: #ffffff;
    --bg-hover: #e8e8e8;
    --text: #1a1b26;
    --text-muted: #6b7280;
    --border: #d1d5db;
    --added: #16a34a;
    --added-bg: rgba(22, 163, 74, 0.08);
    --removed: #dc2626;
    --removed-bg: rgba(220, 38, 38, 0.08);
    --modified: #d97706;
    --modified-bg: rgba(217, 119, 6, 0.08);
    --reordered: #2563eb;
    --reordered-bg: rgba(37, 99, 235, 0.08);
    --security-high: #dc2626;
    --security-medium: #d97706;
    --security-low: #16a34a;
    --accent: #2563eb;
  }
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, monospace;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

h1 {
  font-size: 1.75rem;
  margin-bottom: 0.5rem;
  color: var(--accent);
}

h2 {
  font-size: 1.25rem;
  margin: 1.5rem 0 0.75rem;
  padding-bottom: 0.25rem;
  border-bottom: 1px solid var(--border);
}

.metadata {
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-bottom: 1.5rem;
}

.metadata span { margin-right: 1.5rem; }

/* Summary cards */
.summary {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.summary-card {
  background: var(--bg-surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 0.75rem 1rem;
  text-align: center;
}

.summary-card .count {
  font-size: 1.5rem;
  font-weight: bold;
}

.summary-card .label {
  font-size: 0.8rem;
  color: var(--text-muted);
  text-transform: uppercase;
}

.summary-card.added .count { color: var(--added); }
.summary-card.removed .count { color: var(--removed); }
.summary-card.modified .count { color: var(--modified); }
.summary-card.total .count { color: var(--accent); }

/* Risk summary */
.risk-summary {
  background: var(--bg-surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 1rem;
  margin-bottom: 1.5rem;
}

.risk-score {
  font-size: 1.25rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.risk-badges { display: flex; gap: 0.5rem; flex-wrap: wrap; }

/* Section containers */
.section {
  background: var(--bg-surface);
  border: 1px solid var(--border);
  border-radius: 6px;
  margin-bottom: 1rem;
  overflow: hidden;
}

.section summary {
  cursor: pointer;
  padding: 0.75rem 1rem;
  font-weight: bold;
  background: var(--bg-surface);
  user-select: none;
}

.section summary:hover { background: var(--bg-hover); }

.section-content { padding: 0 1rem 1rem; }

/* Change table */
.changes-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.9rem;
}

.changes-table th {
  text-align: left;
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--border);
  color: var(--text-muted);
  font-size: 0.8rem;
  text-transform: uppercase;
}

.changes-table td {
  padding: 0.5rem 0.75rem;
  border-bottom: 1px solid var(--border);
  vertical-align: top;
}

.changes-table tr:last-child td { border-bottom: none; }
.changes-table tr:hover td { background: var(--bg-hover); }

.change-added { border-left: 3px solid var(--added); }
.change-removed { border-left: 3px solid var(--removed); }
.change-modified { border-left: 3px solid var(--modified); }
.change-reordered { border-left: 3px solid var(--reordered); }

/* Badges */
.badge {
  display: inline-block;
  padding: 0.1rem 0.4rem;
  border-radius: 3px;
  font-size: 0.75rem;
  font-weight: bold;
  text-transform: uppercase;
}

.badge-added { background: var(--added-bg); color: var(--added); }
.badge-removed { background: var(--removed-bg); color: var(--removed); }
.badge-modified { background: var(--modified-bg); color: var(--modified); }
.badge-reordered { background: var(--reordered-bg); color: var(--reordered); }
.badge-high { background: rgba(247, 118, 142, 0.15); color: var(--security-high); }
.badge-medium { background: rgba(224, 175, 104, 0.15); color: var(--security-medium); }
.badge-low { background: rgba(158, 206, 106, 0.15); color: var(--security-low); }

/* Values */
.value {
  font-family: monospace;
  font-size: 0.85rem;
  color: var(--text-muted);
}

.value-old { color: var(--removed); }
.value-new { color: var(--added); }

/* No changes */
.no-changes {
  text-align: center;
  padding: 2rem;
  color: var(--text-muted);
  font-style: italic;
}

/* Footer */
.footer {
  margin-top: 2rem;
  padding-top: 1rem;
  border-top: 1px solid var(--border);
  font-size: 0.8rem;
  color: var(--text-muted);
  text-align: center;
}

/* Print styles */
@media print {
  body { background: white; color: black; max-width: none; }
  .section { break-inside: avoid; }
  .section summary { background: none; }
  details[open] > summary { margin-bottom: 0.5rem; }
}
